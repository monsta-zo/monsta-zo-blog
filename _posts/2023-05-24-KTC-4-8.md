---
layout: single
title: "[카테캠-기초교육] Part4: Ch8.비동기"
categories: KakaoTechCam
tag: [KakaoTechCam]
toc: true
toc_sticky: true
author_profile: false
sidebar:
 nav: "docs"
header:
 teaser: /assets/images/ktc2.png

---

**모든 강의내용, 자료의 출처는 <u>'카카오 테크 캠퍼스 1기'</u>, <u>'패스트 캠퍼스'</u> 임을 밝힙니다.**

< Part4. JavaScript 마스터 >

## 01. 개요

*동기(Synchronous)*

코드가 순차적으로 실행되는 것을 말한다. 코드가 작성된 순서대로 실행하고, 결과를 출력한다.

*비동기(Asychronous)*

코드가 순차적으로 실행되지 않는 것을 말한다. 아래의 세 가지 예시를 보면 모두 코드가 순차적으로 실행되지 않고 뒤의 코드가 먼저 실행되기도 한다. 이런 방식을 비동기 방식이라고 한다.

**예시1 - setTimeout()**

```js
console.log(1);
setTimeout(()=>{console.log(2)}, 1000);
console.log(3);
// 1
// 3
// 2
```

**예시2 - 이벤트**

```js
const btnEl = document.querySelector('h1');
btnEl.addEventListner('click', ()=>{
    console.log('Clicked');
});

console.log('Hello World!');
```

**예시3 - fetch**

```js
fetch('https://www.omdbapi.com/?apikey=7035c60c&s=frozen')
  .then(res=>res.json())
  .then(res=>console.log(res));

console.log(1)
console.log(2)
console.log(3)
// 1 2 3 출력 후 결과 받아옴
```

## 02. 콜백과 콜백 지옥

비동기 코드는 어떤 순서로 실행될 지 예상할 수 없을 때가 있다. 예를 들어 `fetch()` 를 활용해 네트워크트를 통해서 데이터를 받아오는 경우인데. 데이터의 양이나 처리 시간이 모두 다르기 때문에 코드가 언제 실행되는 지 가늠이 불가능하다. 

따라서, 우리는 원하는 순서로 코드가 실행되게 하기위해 비동기 코드 내부에 다음 코드를 포함시킬 수 있고 이를 **콜백 패턴**이라고 한다.

하지만 콜백 패턴을 많이 사용할 경우 코드가 복잡해지고, 이해하기 어려워진다. 이를 **콜백 지옥**이라고 한다.

```js
//// 콜백 패턴
const getMovies = (movieName, callback) => {
  fetch(`https://www.omdbapi.com/?apikey=7035c60c&s=${moviename}`)
    .then((res) => res.json())
    .then((res) => {
      console.log(res);
      callback();
    });
};

// 콜백 지옥
getMovies("frozen", () => {
  console.log("겨울왕국!");
  getMovies("avengers", () => {
    console.log("어벤저스!");
    getMovies("avatar", () => {
      console.log("아바타!");
    });
  });
});
```


