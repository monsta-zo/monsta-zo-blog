---
layout: single
title: "[JavaScript] 기본 입출력"
categories: JavaScript
tag: [JavaScript]
toc: true
toc_sticky: true
author_profile: false
sidebar:
 nav: "docs"

---

# 기본 입력

## 1. fs 모듈

- 입력 데이터가 <u>텍스트 파일</u> 형태로 주어지는 경우, **파일 시스템 모듈** 사용

- 텍스트 전체를 읽어와서, 줄 바꿈 기호 기준으로 구분하여 리스트로 변환한다.

```js
let fs = require('fs');

// 표준 입력 파일을 받음 ( 백준에서 사용 )
let input = fs.readFileSync('dev/stdin').toString().split('\n');
// 직접 파일 이름을 지정해서 받음
let input = fs.readFileSync('input.txt').toString().split('\n');
```

*여러 정수 편하게 입력받기*

예를 들어 입력으로 "13 14" 가 주어진다고 할 때 아래와 같은 방식으로 편하게 정수로 바꿔줄 수 있다.

```js
let [a, b] = input[0].split(" ").map(Number);
```

- [a, b] : 구조 분해 할당이다. 배열의 각 원소를 분해해서 할당 받을 수 있다.

- map() : 배열의 각 원소에 특정 함수를 적용시킬 수 있다. 여기서는 `Number` 함수를 적용시켜줌으로써 문자열을 정수로 형변환 해주었다.

## 2. readline 모듈

`readline` 모듈은 자바스크립트에 내장된 모듈로, readable 스트림에서 한 줄씩 입출력을 처리할 수 있게 도와준다.

```js
const rl = require('readline').createInterface({
    input: process.stdin,
    output: process.stdout
});

let input = [];
rl.on('line', function(line){
    // 콘솔 입력 창에서 줄바꿈(Enter)를 입력할 때 마다 호출
    input.push(line);
}).on('close', function(){
    // 콘솔 입력 창에서 Ctrl + C 혹은 Ctrl + D 입력하면 호출 (입력의 종)
    console.log(input);
    process.exit();
});
```

*모듈 불러오기, readline interface 객체 만들기*

모듈을 불러오기 위해 `require("모듈 이름")` 을 이용한다.

객체를 이용해 콘솔에서 표준 입출력을 처리할 수 있다.

`createInterface()` 메서드를 이용해 객체를 만들고, `rl` 변수에 저장해준다.

```js
const rl = require('readline').createInterface({
    input: process.stdin,
    output: process.stdout
});
```

*on 메서드*

생성한 객체로 입출력과 관련된 여러 이벤트를 처리할 수 있다.

예를 들어 사용자가 콘솔에 입력을 넣는 것과 같은 이벤트가 있다.

`on` 메서드를 이용하면 이벤트가 발생할 때 실행할 동작은 지정할 수 있다. 

*line 이벤트*

`line` 이벤트는 사용자가 콘솔에 입력을 할 때 발생한다. 

입력 이벤트는 입력 스트림에 줄바꿈을 나타내는 `\n, \r, \r\n` 제어 문자가 나타나거나, 사용자가 Enter 또는 Return을 누를 때 발생한다.

```js
rl.on('line', function (line) {
    input = line.split(' ');
});
```

사용자가 입력 이벤트를 발생시키면, `line` 변수를 통해 사용자가 입력한 내용 한줄이 저장되고, 공백을 기준으로 나눠 input 배열에 저장한다. 

*close 이벤트*

`close` 이벤트는 readable 스트림 종료를 제어하는 이벤트이다. 

```js
on('close', function () {
    solution(input);
});
```

위 코드는 입력이 종료되었을 때 `solution` 함수에 input 배열을 넘겨 실행시킨다.

# 기본 출력

*표준 출력*

```js
console.log('Hello World!');
// Hello World!
```

*템플릿 리터럴*

`multi-line strings`, `string interpolation` 을 가능하게 해주는 문자열 형식이다. backtick(\`)으로 감싸서 표현할 수 있다. 

> string interpolation (문자열 보간)
> 
>  템플릿 리터럴 형식에서 변수를 `${}` 으로 감싸 문자열로 바꿔주는 역할을 한다.

```js
result = 35;

console.log(`정답은 ${result} 입니다.`);
// 정답은 35 입니다.
```

*빠른 출력*

- 출력 과정으로 인해 시간 초과를 받을 수 있다.
- 여러 출력 결과를 한 줄에 하나씩 출력할 때 하나의 문자열에 저장해서 실행하면 빠르다.

```js
let answer = '';
for(let i=1; i<=100; i++){
    answer += i + '\n'; // 문자열로 변환하여 기록
}

console.log(answer);
```