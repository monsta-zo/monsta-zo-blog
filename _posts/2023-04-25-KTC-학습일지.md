---
layout: single
title: "[카테캠] 학습일지 리모델링"
categories: KakaoTechCam
tag: [KakaoTechCam]
toc: true
toc_sticky: true
author_profile: false
sidebar:
  nav: "docs"
---

## 학습일지 리모델링 하기! 

기존의 학습일지는 Week1~Week10의 내용과 진행률만 나왔었는데요.

혹시, 저처럼 **선택과정**과 **Live특강** 그리고 어쩌면? **스페셜과정**까지 학습일지들을 기록하고 진행률도 보고싶으신 분들을 위해 아래와 같이 바꾸는 과정들을 기록했습니다. 

<img width="1364" alt="image" src="https://user-images.githubusercontent.com/83194164/234212170-11dac528-2202-4be1-8171-c9521594e524.png">



*주의하고 또 주의할 사항*

어렵진 않지만, 꽤나 과정이 길기 때문에 차근차근 따라오시지 않으면 학습일지들이 **증발해버릴 수 있어요...** 

(매니저님의 DM에 불이나는 그런 <mark>대재앙의 근원</mark>이 되고싶지 않습니다ㅠㅠ)

~~(사실 저도 2번이나 날려먹었어요^^)~~

혹시 걱정되시는 분들은 꼭! <u>기존의 학습일지를 자신의 개인 노션 페이지에 복제</u>하신 후, 시도해보시는걸 추천드립니다.



## 1. 준비하기

<img width="1332" alt="image" src="https://user-images.githubusercontent.com/83194164/234194639-4e8be679-fa44-4d69-9bd9-7637d3466db4.png">

기존의 학습일지는 아마 이 상태일텐데요. 여기서 부터 시작해보겠습니다!

<br>

먼저, **준비하기** 단계에서는 여러 과정들을 구분할 수 있게 이름을 좀 수정해줄거에요.

<img width="461" alt="스크린샷 2023-04-25 오후 3 45 16" src="https://user-images.githubusercontent.com/83194164/234195845-550e2475-d4ce-442a-ade0-5100b6c89d1d.png">

일단 위 기존의 학습일지들은 **필수과정**으로 변경해보겠습니다.

<img width="421" alt="image" src="https://user-images.githubusercontent.com/83194164/234196545-6865a59c-623e-4925-8cac-127c50ad2d96.png">

아래의 표는 표 이름을 클릭하시면 **'이름 바꾸기'**가 나오고 옆에 토글되는 창에서 바꾸시면 되고

위 Progress는 클릭하면 나오는 창에서 이름과 아이콘을 바로 변경해주시면 됩니다.

<img width="1270" alt="image" src="https://user-images.githubusercontent.com/83194164/234197087-7eb3733f-8cfe-4505-b6d3-a87aa3cc9dfd.png">

그럼 이렇게 준비과정을 마쳤고, 이제 선택과정과 Live특강을 추가해보겠습니다.



## 2. 선택과정 (+Live특강) 추가하기

<br>

*progress 만들기*

<img width="694" alt="image" src="https://user-images.githubusercontent.com/83194164/234198180-8e7aa153-6178-4bdb-8c74-6b9798550b4f.png">

progress에서 **'+ 새로 만들기'**를 클릭하셔서 

<img width="774" alt="image" src="https://user-images.githubusercontent.com/83194164/234198487-b9bf6e0c-458b-4aec-9ed3-592049ff82eb.png">

**'선택과정'**을 만들어주시면 아래와 같이 추가됩니다.

<img width="726" alt="image" src="https://user-images.githubusercontent.com/83194164/234198616-5248aa21-c9f4-4dc9-89f4-1f2df5b2d804.png">

*표 만들기*

>이 과정에서 기존의 일지가 삭제되는 경우가 많아요ㅠㅠ 꼭꼭 기존의 일지 복제 해두신 다음에 하시는걸 추천드릴게요!

표는 새로 만드는 것이 아닌 **기존의 데이터베이스를 그대로 사용**하면서, <u>필터 기능</u>을 이용해서 **선택과정**만 보이게 만들어줄거에요.

<img width="511" alt="스크린샷 2023-04-25 오후 4 02 22" src="https://user-images.githubusercontent.com/83194164/234199339-15b0b771-4db9-4843-9533-decb7301313a.png">

기존의 필수 과정 표 옆에 **'+'**를 눌러주시면

<img width="480" alt="image" src="https://user-images.githubusercontent.com/83194164/234199555-7fed4f48-319e-45ac-8c80-f5e0121dfd7f.png">

표의 우측에 **새 보기** 창이 나오고 이름과 아이콘을 **선택 과정**으로 수정합니다.

<img width="400" alt="image" src="https://user-images.githubusercontent.com/83194164/234201016-09cfe0ab-8db7-481c-8353-5c7ec0c442ba.png">

그럼 이렇게 새로운 **'선택 과정'**이라는 보기가 생겼구요.

이제 여기서 **'필터'** 기능으로 **'선택 과정'** 들만 볼 수 있게 만들어 줘야해요! 

<img width="1379" alt="스크린샷 2023-04-25 오후 4 07 15" src="https://user-images.githubusercontent.com/83194164/234200384-86f3328d-d528-4a3d-b862-8e60fa94ac81.png">

표의 좌측에 **`필터`**를 누르시고 (반드시, 현재 보기 상태가 '선택 과정'이어야 해요!)

<img width="421" alt="image" src="https://user-images.githubusercontent.com/83194164/234201246-2809350b-beb8-4cd3-b748-388ed9435694.png">

아래의 `더보기` 를 클릭하시면 `Related to Progrss(Days)` 가 있으실거에요 클릭하시면

<img width="424" alt="image" src="https://user-images.githubusercontent.com/83194164/234201417-d72cd861-9037-45d3-b8d9-b1911d8c591b.png"> 

좌측에 이런 창이 뜨고, 저희는 지금 '선택 과정'을 만들고 있으므로 `선택 과정`을 선택해주실게요.

<img width="493" alt="스크린샷 2023-04-25 오후 4 16 32" src="https://user-images.githubusercontent.com/83194164/234202386-9c7946a4-4152-49cd-8bda-04fdcf4b05e1.png">

그럼 당연하게도 선택 과정 일지는 만든게 없으니, 아무것도 안 뜨겠죠? 

이제 `+ 새로 만들기`를 클릭해서 선택 과정 일지들을 만들어주면 됩니다.

<img width="1142" alt="image" src="https://user-images.githubusercontent.com/83194164/234203626-931d00cd-d2ad-44de-a365-8307777af707.png">

이렇게 새로운 일지들을 만들어주면 자동으로 **'선택 과정'**의 일지들이 만들어집니다. 

<img width="948" alt="image" src="https://user-images.githubusercontent.com/83194164/234205064-4ee1c97a-be9d-4bfc-a5fa-5c7d3c817700.png">

똑같은 과정으로 'Live 특강'도 만들어주시면 되겠죠?

<br>

하지만 문제점이 있는데요, 바로 진행률이 아래와 같이 기존의 '필수과정 10개' 기준으로 변화한다는 것입니다.

<img width="1040" alt="image" src="https://user-images.githubusercontent.com/83194164/234206454-47fa091e-166f-4aa9-b3f8-da0810ca4aa7.png">

(분명 선택 과정 6개중 1개를 체크했는데 10%라고 나옵니다)

따라서 기존의 수식을 살짝 수정해주셔야 합니다..ㅠㅠ

## 3. 진행률 수식 변경하기

```
if(prop("completed") == 0, 
"⚪⚪⚪⚪⚪⚪⚪⚪⚪⚪ 0%",
slice("⚫⚫⚫⚫⚫⚫⚫⚫⚫⚫", 0, ceil(divide(prop("completed"), 10) * 10)) +
slice("⚪⚪⚪⚪⚪⚪⚪⚪⚪⚪", 0, 10 - ceil(divide(prop("completed"), 10) * 10)) 
+ " " + format(round(divide(prop("completed"), 10) * 100)) + "%")
```

이게 기존의 수식인데요. 기존의 수식은 전체 글 수가 10개로 고정되어있어서 각 과정들의 글 수를 속성으로 받아와서 수식을 수정해야해요. 따라서,

1. 각 과정의 전체 글 수 가져오기
2. 그에 맞게 출력하기

위의 2가지 과정으로 수정해보겠습니다.

*1.각 과정의 전체 글 수 가져오기*

저희는 속성을 이용해서 전체 글 수를 받아올 수 있어요

<img width="1033" alt="스크린샷 2023-04-25 오후 4 41 36" src="https://user-images.githubusercontent.com/83194164/234208283-de9e2832-745f-40bc-b2eb-cb16a5815d08.png">

위의 'progress'의 메뉴에서 '속성'을 눌러주시면 아래와 같이 뜰텐데요

<img width="613" alt="image" src="https://user-images.githubusercontent.com/83194164/234209136-5c9041fc-ac38-451b-8a1d-223ed07ac156.png">

여기서 새 속성을 눌러주시고, 롤업을 검색해서 '롤업'이라는 속성을 만들거에요.

<img width="360" alt="image" src="https://user-images.githubusercontent.com/83194164/234209576-6d6dbc94-568c-4620-8cf7-006f38c11bb5.png">

그리고 위와 같이 수정해주세요. (반드시 '보기에서 숨기기' 해주세요)

그럼 우린 이 값을 수식에서 사용할 수 있게 됐어요. 그럼 이제 progress 수식을 아래와 같이 변경해주면 됩니다. (혹시 수식의 의미가 궁금하신분들은 `5. 수식 설명`에서 간단히 설명하겠습니다.)

```
if(prop("completed") == 0, 
slice("⚪⚪⚪⚪⚪⚪⚪⚪⚪⚪", 0, prop("Total")) + " 0%",
slice(slice("⚫⚫⚫⚫⚫⚫⚫⚫⚫⚫", 0, prop("Total")),
0, ceil(divide(prop("completed"), prop("Total")) * prop("Total"))) + 
slice(slice("⚪⚪⚪⚪⚪⚪⚪⚪⚪⚪", 0, prop("Total"))
,0, prop("Total") - ceil(divide(prop("completed"), prop("Total")) * prop("Total"))) 
+ " " + format(round(divide(prop("completed"), prop("Total")) * 100)) + "%")s
```

<img width="1013" alt="image" src="https://user-images.githubusercontent.com/83194164/234210610-86855774-5590-498b-8291-db7b6dc0a1d9.png">

하지만.. 선택과정과 Live특강은 제대로 나오는데 이제 필수 과정이 또 말썽이네요..? 그래서 확인해보니

<img width="542" alt="image" src="https://user-images.githubusercontent.com/83194164/234211083-cfcd243e-5070-48c5-aaaa-f236d9511b4c.png">

progress의 필수과정 눌러보시면 연결된 페이지에 'Day'라는 글이 포함되어있어서 전체 글이 11개로 계산됩니다. 아마 안쓰는 글 같으니 삭제해주면 됩니다.(아마 안쓰겠지...? 몰랑)



## 4. 완성

<img width="1364" alt="image" src="https://user-images.githubusercontent.com/83194164/234212170-11dac528-2202-4be1-8171-c9521594e524.png">

그럼 이렇게 완성됩니다~ 고생하셨습니다.

카테캠 매니저님들, 쿠키즈님들 화이팅🔥

## 5. 수식 설명

```
if(prop("completed") == 0, 
slice("⚪⚪⚪⚪⚪⚪⚪⚪⚪⚪", 0, prop("Total")) + " 0%",
slice(slice("⚫⚫⚫⚫⚫⚫⚫⚫⚫⚫", 0, prop("Total")),
0, ceil(divide(prop("completed"), prop("Total")) * prop("Total"))) + 
slice(slice("⚪⚪⚪⚪⚪⚪⚪⚪⚪⚪", 0, prop("Total"))
,0, prop("Total") - ceil(divide(prop("completed"), prop("Total")) * prop("Total"))) 
+ " " + format(round(divide(prop("completed"), prop("Total")) * 100)) + "%")
```

기존의 수식과 바뀐 점

- `10` -> `Prop("Total")` 
  - 기존의 수식은 총 일지 수가 10개로 고정되어있어서, 저희가 만든 `Total` 롤업 속성값을 받아와서 모두 바꿔주었습니다
- `⚪⚪⚪⚪⚪⚪⚪⚪⚪⚪` -> `slice("⚪⚪⚪⚪⚪⚪⚪⚪⚪⚪", 0, prop("Total"))` 
  - 이 또한 이유는 위와 같고, 노션 수식에 특정 문자를 반복해서 출력하는 함수는 없어서 그냥 Max 10개로 잡고, 거기서 잘라서 사용했습니다.